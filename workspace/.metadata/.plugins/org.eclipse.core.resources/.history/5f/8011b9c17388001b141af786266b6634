<%@page import="java.util.Map"%>
<%@page import="kr.or.ddit.enumpkg.MimeType"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
 <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
/* $(function(){
	var functionMap ={
			json : function(resp){
				resultArea.text(resp.expression);
			},
			xml : function(resp){
				resultArea.text($(resp).find("expression").text());
			},
			html : function(resp) {
				resultArea.html(resp);
			},
			plain : function(resp) {
				resultArea.text(resp);
			}
	}
	var mimeKind = $("#mimeKind");
	var resultArea = $("#resultArea");
	var calForm = $("#calForm").on("submit", function(event){
	var dataType = mimeKind.val();
	/* dataType이 null인지아닌지 파악 */
	if(!dataType){
		return true;
	}
		event.preventDefault();
			/* 어디로 */
			var action = this.action;
			/* 어떤방식으로 */
			var method = this.method;
			/* 무엇을넘기겠는지  */
			var data = $(this).serialize();
			var options = {
					url : action,
					method : method,
					data : data,	//body에들어갈것
					error : function(xhr, error, msg) {
						console.log(xhr);
						console.log(error);
						console.log(msg);
					}
				}
			console.log(data);
			options.dataType = dataType
			options.success = functionMap[options.dataType];
			$.ajax(options);
			return false;
		});
	}); */
</script>
<body>
<h4>팩토리얼 연산 처리</h4>
<!-- 동기처리연산수행
비동기처리 연산수행(JSON, HTML) 선택할수있도록만들어주기-->

	<%-- <%
		Map<String,Object> target = (Map) request.getAttribute("target");
		
	%> --%>

<form method="post"><!-- view에 있기때문에 /03/factorial이랑 똑같음 -->
	<input id="num" value="${target.op }" type="number" name="single" />
	<input id="calForm" type="submit" value="=" />
	${target["result"]}
</form>
<div id ="resultArea"></div>
</body>
</html>