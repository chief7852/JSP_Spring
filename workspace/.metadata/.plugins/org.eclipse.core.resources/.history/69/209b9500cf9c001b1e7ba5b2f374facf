package kr.or.ddit.listener;

import javax.servlet.ServletContext;
import javax.servlet.ServletContextEvent;
import javax.servlet.ServletContextListener;
import javax.servlet.annotation.WebListener;

import org.apache.commons.dbcp2.Constants;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * Application Lifecycle Listener implementation class CustomServletContextListener
 *
 */

public class CustomServletContextListener implements ServletContextListener {
	private static final Logger logger = LoggerFactory.getLogger(CustomServletContextListener.class);
   private ServletContext application;
	/**
     * @see ServletContextListener#contextInitialized(ServletContextEvent)
     */
    public void contextInitialized(ServletContextEvent sce)  { 
         logger.info("{}에서 어플리케이션 초기화 이벤트 처리",getClass().getName());
         application = sce.getServletContext();
         application.setAttribute(Constants.SESSIONCOUNTATTRNAE, 0);
    }
	
	/**
     * @see ServletContextListener#contextDestroyed(ServletContextEvent)
     */
    public void contextDestroyed(ServletContextEvent sce)  { 
        logger.info("{}에서 어플리케이션 thauf 이벤트 처리",getClass().getName());
        application.setAttribute("sessionCount", 0);
    }

	
}
