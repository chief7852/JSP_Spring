package kr.or.ddit.servlet02;

import java.io.IOException;
import java.util.Enumeration;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * HttpServletRequest : 클라이언트와 요청에 대한 모든 정보를 캡슐화한 객체.
 * 
 * Http의 요청 패키징 방식
 * 1. Request Line : URL, request method, protocol
 * 	1) request method : 행위+방식(수단)
 * 		-* GET(R) : 조회
 * 		-* POST(C) : 신규 등록
 * 		-* PUT/PATCH(U) : 갱신
 * 		-* DELETE(D) : 삭제
 * 		- OPTION : prefilight 요청에 사용
 * 		- HEADER : body가 없는 응답을 요청할때 사용
 * 		- TRACE : 서버 디버깅 요청에 사용(일반적으로 사용하지않음)
 * 2. Request Header : meta data 영역(데이터타입..json이나 xml
 * 			Accept, Content-Type, User-Agent
 * 3. Request Body (only POST) : 서버로 전송할 컨텐츠 
 * 			
 *
 */
@WebServlet("/requestDesc.do")
public class HttpServletRequestDesc extends HttpServlet{

	@Override
	protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		//=============================Line
		String uri = req.getRequestURI();
		String method = req.getMethod();
		String protocol = req.getProtocol();
		System.out.printf("Request Line : \n %s\n %s\n %s\n",uri,method,protocol);
		//=============================header
		System.out.println("=====================Request Header ======================");
		Enumeration<String> names =req.getHeaderNames();
				
		while (names.hasMoreElements()) {
			String headerName = (String) names.nextElement();
			String headerValue = req.getHeader(headerName);
			System.out.printf("%s : %s \n",headerName,headerValue);
		}
		//=============================body
				System.out.println("=====================Request BODY ======================");
		req.getInputStream()
	}
}
